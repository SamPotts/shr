{"version":3,"sources":["docs/src/js/docs.js","src/js/utils/is.js","src/js/config/constants.js","src/js/config/defaults.js","src/js/utils/console.js","src/js/utils/objects.js","src/js/utils/storage.js","src/js/shr.js","src/js/utils/ajax.js","src/js/utils/numbers.js","src/js/utils/urls.js","src/js/utils/css.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","getConstructor","input","constructor","instanceOf","isNullOrUndefined","isObject","isString","String","isNodeList","NodeList","is","nullOrUndefined","object","number","Number","isNaN","string","boolean","Boolean","function","Function","array","nodeList","element","Element","event","Event","empty","keys","constants","facebook","domain","url","concat","shareCount","data","share","share_count","popup","width","height","twitter","pinterest","count","github","path","token","stargazers_count","youtube","id","error","first","items","statistics","subscriberCount","defaults","debug","classname","displayZero","format","position","increment","html","tokens","storage","enabled","ttl","noop","Console","a","arguments","this","window","console","log","get","bind","call","warn","extend","b","sources","d","source","shift","forEach","includes","assign","apply","Storage","supported","store","localStorage","getItem","Date","now","json","JSON","parse","setItem","stringify","removeItem","e","Shr","options","elements","trigger","document","querySelector","shr","config","networks","getCount","then","updateDisplay","catch","listeners","method","openPopup","network","networkConfig","preventDefault","size","name","closed","focus","left","screenLeft","screen","top","screenTop","x","y","open","href","useCache","Promise","resolve","reject","apiUrl","Error","cached","Math","round","random","script","createElement","addEventListener","body","removeChild","src","URL","searchParams","set","setAttribute","toString","appendChild","getJSONP","custom","getAttribute","parseInt","toLowerCase","label","isAfter","decimalSeparator","test","toLocaleString","regex","RegExp","replace","formatNumber","textContent","insertAdjacentHTML","find","n","hostname","parts","split","getDomain","pathname","substring","pop","encodeURIComponent","targets","from","querySelectorAll","filter","watch","MutationObserver","mutations","mutation","addedNodes","node","selector","matches","observe","childList","subtree","map","t","setup"],"mappings":"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","file":"docs.js","sourcesContent":["// ==========================================================================\n// Docs example\n// ==========================================================================\n\nimport Shr from '../../../src/js/shr';\n\nShr.setup('.js-shr-button', {\n    debug: true,\n    tokens: {\n        youtube: 'AIzaSyDrNwtN3nLH_8rjCmu5Wq3ZCm4MNAVdc0c',\n    },\n});\n","// ==========================================================================\n// Type checking utils\n// ==========================================================================\n\nconst getConstructor = input => (input !== null && typeof input !== 'undefined' ? input.constructor : null);\nconst instanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\n\nconst isNullOrUndefined = input => input === null || typeof input === 'undefined';\nconst isObject = input => getConstructor(input) === Object;\nconst isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\nconst isString = input => getConstructor(input) === String;\nconst isBoolean = input => getConstructor(input) === Boolean;\nconst isFunction = input => getConstructor(input) === Function;\nconst isArray = input => Array.isArray(input);\nconst isNodeList = input => instanceOf(input, NodeList);\nconst isElement = input => instanceOf(input, Element);\nconst isEvent = input => instanceOf(input, Event);\nconst isEmpty = input =>\n    isNullOrUndefined(input) ||\n    ((isString(input) || isArray(input) || isNodeList(input)) && !input.length) ||\n    (isObject(input) && !Object.keys(input).length);\n\nexport default {\n    nullOrUndefined: isNullOrUndefined,\n    object: isObject,\n    number: isNumber,\n    string: isString,\n    boolean: isBoolean,\n    function: isFunction,\n    array: isArray,\n    nodeList: isNodeList,\n    element: isElement,\n    event: isEvent,\n    empty: isEmpty,\n};\n","import is from '../utils/is';\n\n/**\n * Constants. These are uneditable by the user. These will get merged into\n * the global config after the user defaults so the user can't overwrite these\n * values.\n *\n * @typedef {Object} constants\n * @type {Object}\n *\n * @property {Object} facebook                 - The settings for Facebook within Shr.\n * @property {function} facebook.url          - The method that returns the API Url to get the share count for Facebook.\n * @property {function} facebook.shareCount   - The method that extracts the number we need from the data returned from the API for Facebook.\n *\n * @property {Object} twitter                 - The settings for Twitter within Shr.\n * @property {function} twitter.url           - The method that returns the API Url to get the share count for Twitter.\n * @property {function} twitter.shareCount    - The method that extracts the number we need from the data returned from the API for Twitter.\n *\n * @property {Object} pinterest               - The settings for Pinterest within Shr.\n * @property {function} pinterest.url         - The method that returns the API Url to get the share count for Pinterest.\n * @property {function} pinterest.shareCount  - The method that extracts the number we need from the data returned from the API for Pinterest.\n *\n * @property {Object} github                  - The settings for GitHub within Shr.\n * @property {function} github.url            - The method that returns the API Url to get the share count for GitHub.\n * @property {function} github.shareCount     - The method that extracts the number we need from the data returned from the API for GitHub.\n */\n\nconst constants = {\n    facebook: {\n        domain: 'facebook.com',\n        url: url => `https://graph.facebook.com/?id=${url}`,\n        shareCount: data => data.share.share_count,\n        popup: {\n            width: 640,\n            height: 360,\n        },\n    },\n\n    twitter: {\n        domain: 'twitter.com',\n        url: () => null,\n        shareCount: () => null,\n        popup: {\n            width: 640,\n            height: 240,\n        },\n    },\n\n    pinterest: {\n        domain: 'pinterest.com',\n        url: url => `https://widgets.pinterest.com/v1/urls/count.json?url=${url}`,\n        shareCount: data => data.count,\n        popup: {\n            width: 830,\n            height: 700,\n        },\n    },\n\n    github: {\n        domain: 'github.com',\n        url: (path, token) => `https://api.github.com/repos/${path}${is.string(token) ? `?access_token=${token}` : ''}`,\n        shareCount: data => data.data.stargazers_count,\n    },\n\n    youtube: {\n        domain: 'youtube.com',\n        url: (id, key) => `https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${id}&key=${key}`,\n        shareCount: data => {\n            if (!is.empty(data.error)) {\n                return null;\n            }\n\n            const [first] = data.items;\n\n            if (is.empty(first)) {\n                return null;\n            }\n\n            return first.statistics.subscriberCount;\n        },\n    },\n};\n\nexport default constants;\n","/**\n     * Default Shr Config. All variables, settings and states are stored here\n     * and global. These are the defaults. The user can edit these at will when\n     * initializing Shr.\n     *\n     * @typedef {Object} defaults\n     * @type {Object}\n     *\n     * @property {Boolean}  debug                 - The flag for if we debug Shr or not. By defaul this is false.\n     * @property {String}   selector              - The base selector for the share link\n\n     * @property {Object}   count                 - The object containing the settings for the count.\n     * @property {String}   count.classname       - Classname for the share count.\n     * @property {Boolean}  count.displayZero     - Determines if we display zero values.\n     * @property {Boolean}  count.format          - Display 1000 as 1K, 1000000 as 1M, etc\n     * @property {String}   count.position        - Inject the count before or after the link in the DOM\n     * @property {Boolean}  count.increment       - Determines if we increment the count on click. This assumes the share is valid.\n     * @property {Function} count.html            - Formats the count for display on the screen.\n     *\n     * @property {Object}   google                - The object containing all configuration variables for Google.\n     * @property {Object}   google.popup          - The object containing the widths and heights for the Google popup window.\n     * @property {Number}   google.popup.width    - The width of the Google Popup window.\n     * @property {Number}   google.popup.height   - The height of the Google Popup window.\n     *\n     * @property {Object}   facebook              - The object containing all configuration variables for Facebook.\n     * @property {Object}   facebook.popup        - The object containing the widths and heights for the Facebook popup window.\n     * @property {Number}   facebook.popup.width  - The width of the Facebook Popup window.\n     * @property {Number}   facebook.popup.height - The height of the Facebook Popup window.\n     *\n     * @property {Object}   twitter                - The object containing all configuration variables for Twitter.\n     * @property {Object}   twitter.popup          - The object containing the widths and heights for the Twitter popup window.\n     * @property {Number}   twitter.popup.width    - The width of the Twitter Popup window.\n     * @property {Number}   twitter.popup.height   - The height of the Twitter Popup window.\n     *\n     * @property {Object}   pinterest              - The object containing all configuration variables for Pinterest.\n     * @property {Object}   pinterest.popup        - The object containing the widths and heights for the Pinterest popup window.\n     * @property {Number}   pinterest.popup.width  - The width of the Pinterest Popup window.\n     * @property {Number}   pinterest.popup.height - The height of the Pinterest Popup window.\n     *\n     * @property {Object}   tokens                 - The object containing authentication tokens.\n     * @property {Object}   tokens.github            The optional authentication tokens for GitHub (to prevent rate limiting).\n     * @property {String}   tokens.youtube           The public key you need to get the subscriber count for YouTube.\n     *\n     * @property {Object}   storage                - The object containing the settings for local storage.\n *     @property {Boolean}  storage.enabled       -  Determines if local storage is enabled for the browser or not.\n     * @property {String}   storage.key            - The key that the storage will use to access Shr data.\n     * @property {Number}   storage.ttl            - The time to live for the local storage values if available.\n     */\n\nconst defaults = {\n    debug: false,\n    count: {\n        classname: 'shr-count',\n        displayZero: true,\n        format: true,\n        position: 'after',\n        increment: true,\n        html: (count, classname, position) => `<span class=\"${classname} ${classname}--${position}\">${count}</span>`,\n    },\n    tokens: {\n        github: '',\n        youtube: '',\n    },\n    storage: {\n        enabled: true,\n        key: 'shr',\n        ttl: 300000,\n    },\n};\n\nexport default defaults;\n","// ==========================================================================\n// Console wrapper\n// ==========================================================================\n\nconst noop = () => {};\n\nexport default class Console {\n    constructor(enabled = false) {\n        this.enabled = window.console && enabled;\n\n        if (this.enabled) {\n            this.log('Debugging enabled');\n        }\n    }\n\n    get log() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n    }\n\n    get warn() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n    }\n\n    get error() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n    }\n}\n","// ==========================================================================\n// Object utils\n// ==========================================================================\n\nimport is from './is';\n\n// Deep extend destination object with N more objects\nexport function extend(target = {}, ...sources) {\n    if (!sources.length) {\n        return target;\n    }\n\n    const source = sources.shift();\n\n    if (!is.object(source)) {\n        return target;\n    }\n\n    Object.keys(source).forEach(key => {\n        if (is.object(source[key])) {\n            if (!Object.keys(target).includes(key)) {\n                Object.assign(target, { [key]: {} });\n            }\n\n            extend(target[key], source[key]);\n        } else {\n            Object.assign(target, { [key]: source[key] });\n        }\n    });\n\n    return extend(target, ...sources);\n}\n\nexport default {};\n","// ==========================================================================\n// Plyr storage\n// ==========================================================================\n\nimport is from './is';\nimport { extend } from './objects';\n\nclass Storage {\n    constructor(key, ttl, enabled = true) {\n        this.enabled = enabled && Storage.supported;\n        this.key = key;\n        this.ttl = ttl;\n    }\n\n    // Check for actual support (see if we can use it)\n    static get supported() {\n        try {\n            if (!('localStorage' in window)) {\n                return false;\n            }\n\n            const test = '___test';\n\n            // Try to use it (it might be disabled, e.g. user is in private mode)\n            // see: https://github.com/sampotts/plyr/issues/131\n            window.localStorage.setItem(test, test);\n            window.localStorage.removeItem(test);\n\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    get(key) {\n        if (!Storage.supported || !this.enabled) {\n            return null;\n        }\n\n        const store = window.localStorage.getItem(this.key);\n\n        if (is.empty(store)) {\n            return null;\n        }\n\n        // Check TTL\n        const ttl = window.localStorage.getItem(`${this.key}_ttl`);\n\n        if (is.empty(ttl) || ttl < Date.now()) {\n            return null;\n        }\n\n        const json = JSON.parse(store);\n\n        return is.string(key) && key.length ? json[key] : json;\n    }\n\n    set(object) {\n        // Bail if we don't have localStorage support or it's disabled\n        if (!Storage.supported || !this.enabled) {\n            return;\n        }\n\n        // Can only store objectst\n        if (!is.object(object)) {\n            return;\n        }\n\n        // Get current storage\n        let storage = this.get();\n\n        // Default to empty object\n        if (is.empty(storage)) {\n            storage = {};\n        }\n\n        // Update the working copy of the values\n        extend(storage, object);\n\n        // Update storage and TTL record\n        window.localStorage.setItem(this.key, JSON.stringify(storage));\n        window.localStorage.setItem(`${this.key}_ttl`, Date.now() + this.ttl);\n    }\n}\n\nexport default Storage;\n","/**\n * @name    Shr.js\n * @version 2.0.0-beta.1\n * @author \tSam Potts\n * @license The MIT License (MIT)\n */\n\nimport constants from './config/constants';\nimport defaults from './config/defaults';\nimport { getJSONP } from './utils/ajax';\nimport Console from './utils/console';\nimport { matches } from './utils/css';\nimport is from './utils/is';\nimport { formatNumber } from './utils/numbers';\nimport { extend } from './utils/objects';\nimport Storage from './utils/storage';\nimport { getDomain } from './utils/urls';\n\nclass Shr {\n    /**\n     * Setup a new instance\n     * @param {String|Element} target\n     * @param {Object} options\n     */\n    constructor(target, options) {\n        this.elements = {\n            count: null,\n            trigger: null,\n            popup: null,\n        };\n\n        if (is.element(target)) {\n            // An Element is passed, use it directly\n            this.elements.trigger = target;\n        } else if (is.string(target)) {\n            // A CSS Selector is passed, fetch it from the DOM\n            this.elements.trigger = document.querySelector(target);\n        }\n\n        if (!is.element(this.elements.trigger) || !is.empty(this.elements.trigger.shr)) {\n            return;\n        }\n\n        this.config = extend({}, defaults, options, { networks: constants });\n\n        this.console = new Console(this.config.debug);\n\n        this.storage = new Storage(this.config.storage.key, this.config.storage.ttl, this.config.storage.enabled);\n\n        this.getCount()\n            .then(data => this.updateDisplay(data))\n            .catch(() => {});\n\n        this.listeners(true);\n\n        this.elements.trigger.shr = this;\n    }\n\n    /**\n     * Destroy the current instance\n     * @returns {Void}\n     */\n    destroy() {\n        this.listeners(false);\n\n        // TODO: Remove the count\n    }\n\n    /**\n     * Setup event listeners\n     * @returns {Void}\n     */\n    listeners(toggle = false) {\n        const method = toggle ? 'addEventListener' : 'removeEventListener';\n\n        this.elements.trigger[method]('click', event => this.share(event), false);\n    }\n\n    /**\n     * Gets the href from the trigger link\n     * @returns {String}    The href attribute from the link\n     */\n    get href() {\n        if (!is.element(this.elements.trigger)) {\n            return null;\n        }\n\n        return this.elements.trigger.href;\n    }\n\n    /**\n     * Gets the network for this instance\n     * @returns {String}    The network name in lowercase\n     */\n    get network() {\n        if (!is.element(this.elements.trigger)) {\n            return null;\n        }\n\n        const { networks } = this.config;\n\n        return Object.keys(networks).find(n => getDomain(this.href) === networks[n].domain);\n    }\n\n    /**\n     * Gets the config for the specified network\n     * @returns {Object}    The config options\n     */\n    get networkConfig() {\n        if (is.empty(this.network)) {\n            return null;\n        }\n\n        return this.config.networks[this.network];\n    }\n\n    /**\n     * Gets the URL or ID we are geting the share count for\n     * @returns {String}    The target ID or URL we're sharing\n     */\n    get target() {\n        if (is.empty(this.network)) {\n            return null;\n        }\n\n        const url = new URL(this.href);\n\n        switch (this.network) {\n            case 'facebook':\n                return url.searchParams.get('u');\n\n            case 'github':\n                return url.pathname.substring(1);\n\n            case 'youtube':\n                return url.pathname.split('/').pop();\n\n            default:\n                return url.searchParams.get('url');\n        }\n    }\n\n    /**\n     * Gets for the URL for the JSONP endpoint\n     * @returns {String}    The URL for the JSONP endpoint\n     */\n    get apiUrl() {\n        if (is.empty(this.network)) {\n            return null;\n        }\n\n        const { tokens } = this.config;\n\n        switch (this.network) {\n            case 'github':\n                return this.networkConfig.url(this.target, tokens.github);\n\n            case 'youtube':\n                return this.networkConfig.url(this.target, tokens.youtube);\n\n            default:\n                return this.networkConfig.url(encodeURIComponent(this.target));\n        }\n    }\n\n    /**\n     * Initiate the share process\n     * This must be user triggered or the popup will be blocked\n     * @param {Event} event     The user input event\n     * @returns {Void}\n     */\n    share(event) {\n        this.openPopup(event);\n\n        this.getCount()\n            .then(data => this.updateDisplay(data, this.config.increment))\n            .catch(() => {});\n    }\n\n    /**\n     * Displays a pop up window to share on the requested social network.\n     * @param {Event} event   - Event that triggered the popup window.\n     * @returns {Void}\n     */\n    openPopup(event) {\n        if (!is.event(event)) {\n            return;\n        }\n\n        // Only popup if we need to...\n        if (is.empty(this.network) || !this.networkConfig.popup) {\n            return;\n        }\n\n        // Prevent the link opening\n        event.preventDefault();\n\n        // Set variables for the popup\n        const size = this.networkConfig.popup;\n        const { width, height } = size;\n        const name = `shr-popup--${this.network}`;\n\n        // If window already exists, just focus it\n        if (this.popup && !this.popup.closed) {\n            this.popup.focus();\n\n            this.console.log('Popup re-focused.');\n        } else {\n            // Get position\n            const left = window.screenLeft !== undefined ? window.screenLeft : window.screen.left;\n            const top = window.screenTop !== undefined ? window.screenTop : window.screen.top;\n\n            // Open in the centre of the screen\n            const x = window.screen.width / 2 - width / 2 + left;\n            const y = window.screen.height / 2 - height / 2 + top;\n\n            // Open that window\n            this.popup = window.open(this.href, name, `top=${y},left=${x},width=${width},height=${height}`);\n\n            // Determine if the popup was blocked\n            const blocked = !this.popup || this.popup.closed || !is.boolean(this.popup.closed);\n\n            // Focus new window\n            if (!blocked) {\n                this.popup.focus();\n\n                // Nullify opener to prevent \"tab nabbing\"\n                // https://www.jitbit.com/alexblog/256-targetblank---the-most-underestimated-vulnerability-ever/\n                // this.popup.opener = null;\n\n                this.console.log('Popup opened.');\n            } else {\n                this.console.error('Popup blocked.');\n            }\n        }\n    }\n\n    /**\n     * Get the count for the url from API\n     * @param {Boolean} useCache        Whether to use the local storage cache or not\n     * @returns {Promise}\n     */\n    getCount(useCache = true) {\n        return new Promise((resolve, reject) => {\n            // Format the JSONP endpoint\n            const url = this.apiUrl;\n\n            // If there's an endpoint. For some social networks, you can't\n            // get the share count (like Twitter) so we won't have any data. The link\n            // will be to share it, but you won't get a count of how many people have.\n\n            if (is.empty(url)) {\n                reject(new Error(`No URL available for ${this.network}.`));\n                return;\n            }\n\n            // Check cache first\n            if (useCache) {\n                const cached = this.storage.get(this.target);\n\n                if (!is.empty(cached) && Object.keys(cached).includes(this.network)) {\n                    resolve(cached[this.network]);\n                    this.console.log('getCount resolved from cache.');\n                    return;\n                }\n            }\n\n            // When we get here, this means the cached counts are not valid,\n            // or don't exist. We will call the API if the URL is available\n            // at this point.\n\n            // Runs a GET request on the URL\n            getJSONP(url)\n                .then(data => {\n                    let count = 0;\n                    const custom = this.elements.trigger.getAttribute('data-shr-display');\n\n                    // Get value based on config\n                    if (!is.empty(custom)) {\n                        count = data[custom];\n                    } else {\n                        count = this.networkConfig.shareCount(data);\n                    }\n\n                    // Default to zero for undefined\n                    if (is.empty(count)) {\n                        count = 0;\n                    }\n\n                    // Parse\n                    count = parseInt(count, 10);\n\n                    // Cache in local storage\n                    this.storage.set({\n                        [this.target]: {\n                            [this.network]: count,\n                        },\n                    });\n\n                    resolve(count);\n                })\n                .catch(reject);\n        });\n    }\n\n    /**\n     * Display the count\n     * @param {Number} input         - The count returned from the share count API\n     * @param {Boolean} increment   -  Determines if we should increment the count or not\n     * @returns {Void}\n     */\n    updateDisplay(input, increment = false) {\n        // If we're incrementing (e.g. on click)\n        const count = increment ? input + 1 : input;\n\n        // Standardize position\n        const position = this.config.count.position.toLowerCase();\n\n        // Only display if there's a count\n        if (count > 0 || this.config.count.displayZero) {\n            const isAfter = position === 'after';\n\n            // Format\n            let label;\n            if (this.config.count.format && count > 1000000) {\n                label = `${Math.round(count / 1000000)}M`;\n            } else if (this.config.count.format && count > 1000) {\n                label = `${Math.round(count / 1000)}K`;\n            } else {\n                label = formatNumber(count);\n            }\n\n            // Update or insert\n            if (is.element(this.elements.count)) {\n                this.elements.count.textContent = label;\n            } else {\n                // Insert count display\n                this.elements.trigger.insertAdjacentHTML(\n                    isAfter ? 'afterend' : 'beforebegin',\n                    this.config.count.html(label, this.config.count.classname, position)\n                );\n\n                // Store reference\n                this.elements.count = this.elements.trigger[isAfter ? 'nextSibling' : 'previousSibling'];\n            }\n        }\n    }\n\n    /**\n     * Setup multiple instances\n     * @param {String|Element|NodeList|Array} target\n     * @param {Object} options\n     * @returns {Array}                                 An array of instances\n     */\n    static setup(target, options = {}) {\n        let targets = null;\n\n        if (is.string(target)) {\n            targets = Array.from(document.querySelectorAll(target));\n        } else if (is.element(target)) {\n            targets = [target];\n        } else if (is.nodeList(target)) {\n            targets = Array.from(target);\n        } else if (is.array(target)) {\n            targets = target.filter(is.element);\n        }\n\n        if (is.empty(targets)) {\n            return null;\n        }\n\n        const config = Object.assign({}, defaults, options);\n\n        if (is.string(target) && config.watch) {\n            // Create an observer instance\n            const observer = new MutationObserver(mutations => {\n                Array.from(mutations).forEach(mutation => {\n                    Array.from(mutation.addedNodes).forEach(node => {\n                        if (!is.element(node) || !matches(node, target)) {\n                            return;\n                        }\n\n                        // eslint-disable-next-line no-unused-vars\n                        const share = new Shr(node, config);\n                    });\n                });\n            });\n\n            // Pass in the target node, as well as the observer options\n            observer.observe(document.body, {\n                childList: true,\n                subtree: true,\n            });\n        }\n\n        return targets.map(t => new Shr(t, options));\n    }\n}\n\nexport default Shr;\n","/**\n * Makes the JSONP request to get the social network to get the share count.\n *\n * @param {string} url          - The URL of the of the sharing API.\n * @param {function} callback   - The callback funciton once the API completes the request.\n */\nexport function getJSONP(url) {\n    return new Promise((resolve, reject) => {\n        // Generate a random callback\n        const name = `jsonp_callback_${Math.round(100000 * Math.random())}`;\n\n        // Create a faux script\n        const script = document.createElement('script');\n\n        // Handle errors\n        script.addEventListener('error', error => reject(error));\n\n        // Cleanup to prevent memory leaks and hit original callback\n        window[name] = data => {\n            delete window[name];\n            document.body.removeChild(script);\n            resolve(data);\n        };\n\n        // Add callback to URL\n        const src = new URL(url);\n        src.searchParams.set('callback', name);\n\n        // Set src and load\n        script.setAttribute('src', src.toString());\n\n        // Inject to the body\n        document.body.appendChild(script);\n    });\n}\n\nexport default {};\n","export function formatNumber(number) {\n    // Work out whether decimal separator is . or , for localised numbers\n    const decimalSeparator = /\\./.test((1.1).toLocaleString()) ? '.' : ',';\n\n    // Round n to an integer and present\n    const regex = new RegExp(`\\\\${decimalSeparator}\\\\d+$`);\n\n    return Math.round(number)\n        .toLocaleString()\n        .replace(regex, '');\n}\n\nexport default {};\n","export function getDomain(href) {\n    const url = new URL(href);\n    let domain = url.hostname;\n    const parts = domain.split('.');\n    const { length } = parts;\n\n    // Extract the root domain\n    if (length > 2) {\n        domain = `${parts[length - 2]}.${parts[length - 1]}`;\n\n        // Check to see if it's using a Country Code Top Level Domain (ccTLD) (i.e. \".me.uk\")\n        if (parts[length - 2].length === 2 && parts[length - 1].length === 2) {\n            domain = `${parts[length - 3]}.${domain}`;\n        }\n    }\n\n    return domain;\n}\n\nexport default {};\n","// Element matches a selector\nexport function matches(element, selector) {\n    const prototype = { Element };\n\n    function match() {\n        return Array.from(document.querySelectorAll(selector)).includes(this);\n    }\n\n    const matches =\n        prototype.matches ||\n        prototype.webkitMatchesSelector ||\n        prototype.mozMatchesSelector ||\n        prototype.msMatchesSelector ||\n        match;\n\n    return matches.call(element, selector);\n}\n\nexport default {};\n"]}